% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_simulation.R
\name{simulate_prevalence_for_district}
\alias{simulate_prevalence_for_district}
\title{Simulate and Extract Yearly Prevalence Estimates for a District}
\usage{
simulate_prevalence_for_district(
  model,
  results,
  start_date,
  end_date,
  district_name,
  param_inputs = NULL
)
}
\arguments{
\item{model}{An epidemiological model object used for simulation.}

\item{results}{A list containing MCMC or model fitting results for the district,
including parameter estimates and prior information.}

\item{start_date}{A character string or Date object specifying the start date of the simulation (e.g., "2014-01-01").}

\item{end_date}{A character string or Date object specifying the end date of the simulation (e.g., "2022-12-31").}

\item{district_name}{A character string specifying the name of the district.}

\item{param_inputs}{A named vector of parameters and corresponding values. If NULL, uses parameters that maximize likelihood in results.}
}
\value{
A data frame containing yearly average prevalence estimates for the given district.
The data frame includes columns for \code{year}, various prevalence metrics (e.g., \code{prev_total_with_R}, \code{prev_C_with_R}),
and the corresponding \code{District} name.
}
\description{
This function runs a compartmental model simulation for a specified district,
extracts yearly prevalence estimates, and returns a summarized data frame.
}
\details{
\itemize{
\item The function first extracts the \strong{maximum likelihood parameters} from the model fitting results.
\item It updates the \strong{parameter inputs} with these best estimates.
\item The model is then \strong{simulated} for the specified district and time period.
\item The output is aggregated into \strong{yearly averages} for all prevalence metrics.
\item The district name is appended to the final data frame to facilitate later merging.
}
}
\examples{
# Example usage for the Koumra district
start_date <- "2014-01-01"
end_date <- "2022-12-31"
koumra_prev <- simulate_prevalence_for_district(model_simp, koumra_results, start_date, end_date, "Koumra")

# View output
head(koumra_prev)

}
\seealso{
\itemize{
\item \code{compartments_sim()}: Function used internally to simulate the model.
\item \code{update_param_list()}, \code{extract_max_posterior_params()}: Functions to extract and update model parameters.
}
}
