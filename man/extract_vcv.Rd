% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mcmc_setup.R
\name{extract_vcv}
\alias{extract_vcv}
\title{Extract Variance-Covariance Matrix and Restart Values}
\usage{
extract_vcv(
  results,
  S_prev,
  save = TRUE,
  param_names,
  file_proposal = "",
  file_start = ""
)
}
\arguments{
\item{results}{A list containing MCMC output with elements \code{mcmc_run$pars} (a matrix of parameter values)
and \code{mcmc_run$chain} (a vector indicating chain membership).}

\item{S_prev}{Number of previous samples to include from each chain.}

\item{save}{Logical. If \code{TRUE}, saves the proposal matrix and start values to files.}

\item{param_names}{A character vector of parameter names to label the proposal matrix.}

\item{file_proposal}{File path to save the proposal covariance matrix (only if \code{save = TRUE}).}

\item{file_start}{File path to save the start values (only if \code{save = TRUE}).}
}
\value{
A list with two elements:
\describe{
\item{start_values}{A matrix of start values (medians) for each parameter.}
\item{proposal_matrix}{A variance-covariance matrix used as a proposal distribution.}
}
}
\description{
This function extracts the variance-covariance matrix and restart values from the results of an MCMC run.
It can optionally save the computed proposal matrix and start values to specified file paths.
}
\examples{
# Simulate dummy MCMC output
set.seed(42)
results <- list(
  mcmc_run = list(
    pars = matrix(rnorm(1000), ncol = 5),
    chain = rep(1:5, each = 40)
  )
)
param_names <- paste0("param_", 1:5)
S_prev <- 20

# Run without saving files
output <- extract_vcv(
  results = results,
  S_prev = S_prev,
  save = FALSE,
  param_names = param_names,
  file_proposal = tempfile(fileext = ".rds"),
  file_start = tempfile(fileext = ".rds")
)
str(output)

}
