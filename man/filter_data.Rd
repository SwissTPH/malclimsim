% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/inference_aux_functions.R
\name{filter_data}
\alias{filter_data}
\title{Relate Time Steps to Observed Data for mcstate}
\usage{
filter_data(incidence_observed, month = FALSE, initial_time_obs = 0, rate = 7)
}
\arguments{
\item{incidence_observed}{A data frame of observed incidence data. Must include a column named \code{week_no} (if \code{month = FALSE})
or \code{month_no} (if \code{month = TRUE}), and a column named \code{value} for the observed incidence.}

\item{month}{Logical. If \code{TRUE}, assumes data is monthly; otherwise, weekly.}

\item{initial_time_obs}{Integer. The starting time index for monthly data (default is 0).}

\item{rate}{Integer. The time step rate (e.g., 7 for weekly, 30 for monthly). Default is 7.}
}
\value{
A data frame formatted for use with \code{mcstate::particle_filter}, including time start and end steps.
}
\description{
This function formats observed data into a structure usable by the \code{mcstate} particle filter, adjusting for time steps
(weekly or monthly) and ensuring compatibility with the filtering framework.
}
\examples{
if (requireNamespace("mcstate", quietly = TRUE)) {
  # Weekly example
  incidence_observed <- data.frame(
    week_no = 0:10,
    value = rpois(11, lambda = 5)
  )
  formatted_data <- filter_data(incidence_observed, month = FALSE, initial_time_obs = 0, rate = 7)
  head(formatted_data)

  # Monthly example
  incidence_observed_month <- data.frame(
    month_no = 0:10,
    value = rpois(11, lambda = 10)
  )
  formatted_month_data <- filter_data(incidence_observed_month, month = TRUE,
  initial_time_obs = 0, rate = 30)
  head(formatted_month_data)
}

}
